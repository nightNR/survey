{% extends '@NightSurvey/Admin/base.html.twig' %}
{% trans_default_domain 'NightSurveyBundle' %}

{% block panel_title %}
    <span class="title">{{ surveyAdminListDTO.title|trans }}</span>
    <div class="btn-group btn-group-flat tools">
        <button class="btn btn-material-green fa fa-plus-square fa-lg fa-inverse" aria-hidden="true" data-action="add-survey"></button>
    </div>
{% endblock %}
{% block admin_content %}
    <div class="sortable-table">
    {% for survey in surveyAdminListDTO.surveys %}
            <a href="{{ path('night_survey_admin_surveyedit', {"surveyId": survey.id}) }}" class="list-group-item button">
                <span class="title">{{ survey.title }}</span>
                <div class="btn-group btn-group-flat tools">
                    <button class="btn btn-material-green fa fa-inverse fa-pencil-square fa-lg" data-id="{{ survey.id }}" data-action="edit-survey"></button>
                    <button class="btn btn-material-red fa fa-inverse fa-minus-square fa-lg" data-id="{{ survey.id }}" data-action="delete-survey"></button>
                </div>
            </a>
    {% endfor %}
    </div>
{% endblock %}
{% block footer_nav %}
            <ul class="pagination">
                <li {% if surveyAdminListDTO.page == 1 %}class="disabled"{% endif %}>
                    <a href="
                        {% if surveyAdminListDTO.page == 1 %}
                        #
                        {% else %}
                        {{ path('night_survey_admin_surveylist', {"page": surveyAdminListDTO.page-1}) }}
                        {% endif %}
                " aria-label="Previous">
                        <span aria-hidden="true">&laquo;</span>
                    </a>
                </li>
                {% set min_page = max(1, surveyAdminListDTO.page - 2) %}
                {% set max_page = min(surveyAdminListDTO.page + 2, surveyAdminListDTO.page_count) %}
                {% for page in min_page..max_page %}
                    <li {% if page == surveyAdminListDTO.page %} class="active"{% endif %}><a href="
                        {% if page == surveyAdminListDTO.page %}
                            #
                        {% else %}
                            {{ path('night_survey_admin_surveylist', {"page": page}) }}
                        {% endif %}
                    ">{{ page }}</a></li>
                {% endfor %}

                <li {% if surveyAdminListDTO.page == surveyAdminListDTO.page_count %}class="disabled"{% endif %}>
                    <a href="
                        {% if surveyAdminListDTO.page == surveyAdminListDTO.page_count %}
                        #
                        {% else %}
                        {{ path('night_survey_admin_surveylist', {"page": surveyAdminListDTO.page+1}) }}
                        {% endif %}
                    " aria-label="Next">
                        <span aria-hidden="true">&raquo;</span>
                    </a>
                </li>
            </ul>
{% endblock %}